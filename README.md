


          
# وصف مشروع flebarApi

مشروع "flebarApi" هو خادم API مبني باستخدام Express.js و MongoDB مع Mongoose لإدارة البيانات. المشروع مكتوب باستخدام JavaScript بنمط ES Modules ويستخدم عدة مكتبات مثل bcryptjs لتشفير كلمات المرور وcors للسماح بالوصول من نطاق محدد.

## الهيكلية الأساسية
- يحتوي المشروع على مجلد `chsma` الذي يحتوي على نماذج Mongoose:
  - `condition.js`: نموذج لحالة الطلب يحتوي على حقول مثل الأمر، رقم الموديل، الاسم، الكمية، الحالة، ومسار الصور.
  - `createuser.js`: نموذج المستخدم مع حقول الاسم، البريد الإلكتروني، وكلمة المرور.
  - `details.js`: نموذج تفاصيل الحالة مع مصفوفة من الحالات الفرعية التي تحتوي على الحالة، العدد، الملاحظات، البريد الإلكتروني، والطابع الزمني.
- ملف `db.js` مسؤول عن الاتصال بقاعدة بيانات MongoDB باستخدام متغير بيئة.
- ملف `index.js` هو نقطة الدخول للتطبيق ويحتوي على إعدادات الخادم، تعريف المسارات، والتعامل مع الطلبات.

## الوظائف الرئيسية
- تسجيل الدخول مع التحقق من البريد الإلكتروني وكلمة المرور المشفرة.
- إنشاء مستخدم جديد مع تشفير كلمة المرور.
- إضافة حالة جديدة مع التحقق من وجود الأمر مسبقاً.
- تحديث حالة الطلب باستخدام معرف الحالة.
- إضافة تفاصيل حالة إلى مصفوفة التفاصيل أو تحديثها إذا كانت موجودة.
- جلب جميع الحالات أو حالة معينة بواسطة المعرف.
- جلب تفاصيل الحالة بواسطة معرف الطلب.

## ملاحظات
- تم تحديد حجم البيانات المسموح به في الطلبات إلى 50 ميجابايت.
- تم تفعيل CORS للسماح بالوصول فقط من نطاق `https://flebar.vercel.app`.
- يتم تسجيل حجم البيانات الواردة في كل طلب.
- يستخدم المشروع مكتبة bcryptjs لتأمين كلمات المرور.        
